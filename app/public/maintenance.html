<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>PadPal - Maintenance</title>

  <!-- Bootstrap CSS CDN -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <!-- Our Custom CSS -->
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="./css/maintenancestyle.css" />
  <!-- Javascript -->
  <script src="./javascript/loadInfo.js"></script>
</head>

<body>
  <script>
    window.onload = function () {
      loadInfo();
      document.querySelector('input[name="username"]').value = getUsername();
      console.log(getUsername());
    };
    fetchMaintenanceTickets();
  </script>
  <div class="wrapper">
    <!-- Sidebar Holder -->
    <nav id="sidebar">
      <div class="sidebar-header">
        <h3>Welcome, <span id="username-display"></span>!</h3>
      </div>

      <ul class="list-unstyled components">
        <li><a href="home.html">Home</a></li>
        <li><a href="./payments.html">Payments</a></li>
        <li class="active"><a href="./maintenance.html">Maintenance</a></li>
        <li><a href="./contact.html">Contact Us</a></li>
      </ul>

      <ul class="list-unstyled bottomButton">
        <li>
          <a href="login.html" class="logout">Log Out</a>
        </li>
      </ul>
    </nav>

    <!-- Page Content Holder -->
    <div id="content">
      <header>
        <h1>PadPal</h1>
        <p id="address"> </p>
      </header>
      <hr>
      <h2>Maintenance</h2>
      <div id="page">
        <section class="tooltab" id="schedMaint">
          <h4>Scheduled Maintenance Appts</h4>

          <table id="maintenance-table">
            <thead>
              <tr class="titleRow">
                <td>Ticket Number</td>
                <td>Date</td>
                <td>Description</td>
                <td>Emergency?</td>
              </tr>
            </thead>
            <tbody> </tbody>
          </table>
          
        </section>
        <section class="tooltab">
          <form id="maintenance-appts" method="POST" action="/addMaintenance">

            <h4>Request Maintenance</h4>
            <label for="date">Date</label>
            <br>
            <input type="date" name="date" id="date" required>
            <br>
            <input type="text" name="description" id="description" placeholder="Enter description here..." required>
            <br>
            <input type="checkbox" name="emergency" id="emergency">
            <label for="emergency">Emergency?</label>
            <br>
            <input type="hidden" name="username" value="">
            <input type="submit" value="Submit"></input>
          </form>
        </section>

      </div>
    </div>

  </div>
</body>

</html>